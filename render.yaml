services:
  - type: web
    name: portalatt
    env: node
    region: oregon
    plan: free
    buildCommand: npm ci && npm run build
    startCommand: npm start
    envVars:
      - key: NODE_ENV
        value: production
      - key: PORT
        value: 3000
    healthCheckPath: /
    autoDeploy: true
    rootDir: .
    
  # Configuração para banco de dados PostgreSQL (opcional)
  # - type: pserv
  #   name: portalatt-db
  #   env: postgresql
  #   plan: free
  #   databaseName: portalatt
  #   user: portalatt_user

# Configurações de ambiente (adicione conforme necessário)
# envVars:
#   - key: DATABASE_URL
#     fromDatabase:
#       name: portalatt-db
#       property: connectionString
#   - key: SUPABASE_URL
#     value: your_supabase_url
#   - key: SUPABASE_ANON_KEY
#     value: your_supabase_anon_key